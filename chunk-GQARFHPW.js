import{b as P}from"./chunk-RJOKBRBZ.js";import{b as M}from"./chunk-75PADCFH.js";import{d as l,f as C,g as x,h as b,i as y,l as S,q as k}from"./chunk-KG2CF7P2.js";import{a as v}from"./chunk-FXNLQZX2.js";import{i as _,j as w,m as h}from"./chunk-DWR4Z56V.js";import"./chunk-ALWD4M5K.js";import{Cb as f,Lb as s,Pb as u,Ta as r,ab as g,ca as d,nb as n,va as p,vb as o,wb as a,xb as c}from"./chunk-62T5DOLL.js";var E=()=>["/acesso-comunidade","login"],A=(()=>{class m{constructor(){this.authService=d(M),this.router=d(_),this.isLoading=p(!1),this.form=new x({email:new b("",[l.required,l.email])})}getControl(t){return this.form.get(t)}onSubmit(){if(this.form.valid){this.isLoading.set(!0);let{email:t}=this.form.value;this.authService.forgotPassword(t).subscribe({next:()=>{alert("Um link de recupera\xE7\xE3o foi enviado para o seu email."),this.router.navigate(["/login"]),this.isLoading.set(!1)},error:e=>{console.error("Erro ao enviar solicita\xE7\xE3o:",e),alert("N\xE3o foi poss\xEDvel enviar o link de recupera\xE7\xE3o. Tente novamente."),this.isLoading.set(!1)}})}}static{this.\u0275fac=function(e){return new(e||m)}}static{this.\u0275cmp=g({type:m,selectors:[["pgm-forgot-password"]],decls:14,vars:7,consts:[[1,"forgot-password"],[1,"forgot-password__container"],[1,"forgot-password__title"],[1,"forgot-password__message"],[1,"forgot-password__form",3,"ngSubmit","formGroup"],["label","Email","type","email","placeholder","Digite seu email","name","email",3,"control"],["text","Enviar","loadingText","Enviando...","type","submit",3,"loading","disabled","block"],[1,"forgot-password__links"],[1,"material-icons"],[1,"forgot-password__link",3,"routerLink"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Recupere sua senha"),a(),o(4,"p",3),s(5," Insira o e-mail associado \xE0 sua conta. Enviaremos um link para redefinir sua senha. "),a(),o(6,"form",4),f("ngSubmit",function(){return i.onSubmit()}),c(7,"pgm-text-input",5)(8,"pgm-button",6),o(9,"div",7)(10,"span",8),s(11,"arrow_back"),a(),o(12,"a",9),s(13,"Login"),a()()()()()),e&2&&(r(6),n("formGroup",i.form),r(),n("control",i.getControl("email")),r(),n("loading",i.isLoading())("disabled",i.form.invalid)("block",!0),r(4),n("routerLink",u(6,E)))},dependencies:[P,v,k,y,C,S,h,w],styles:[".forgot-password[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;height:100%;background:linear-gradient(135deg,#5d786a,#749483)}.forgot-password__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;width:95vw;border-radius:.5rem;background-color:#fff;padding:3rem}@media (min-width: 768px){.forgot-password__container[_ngcontent-%COMP%]{padding:4.5rem}}@media (min-width: 1200px){.forgot-password__container[_ngcontent-%COMP%]{padding:6rem}}@media (min-width: 768px){.forgot-password__container[_ngcontent-%COMP%]{width:80vw}}@media (min-width: 1200px){.forgot-password__container[_ngcontent-%COMP%]{width:35vw}}.forgot-password__title[_ngcontent-%COMP%]{text-align:center;color:#749483}.forgot-password__message[_ngcontent-%COMP%]{text-align:center}.forgot-password__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.forgot-password__links[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:1rem}"],changeDetection:0})}}return m})();export{A as ForgotPasswordComponent};
