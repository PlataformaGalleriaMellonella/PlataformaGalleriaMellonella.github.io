import{d as z,r as B}from"./chunk-COXP7RKP.js";import{m as q}from"./chunk-SY5KKSHA.js";import{Cb as m,Db as s,Kb as c,Lb as u,Mb as F,Sa as k,Sb as I,Ta as i,ab as V,da as g,fb as w,gc as O,ja as x,ka as P,nb as S,ob as _,qb as C,rb as E,ta as M,tb as b,ua as r,ub as v,va as D,vb as l,wa as f,wb as d,xb as y,yb as T}from"./chunk-4JVUJWEJ.js";var H=t=>({placeholder:t}),L=(t,a)=>a.value;function $(t,a){if(t&1&&(l(0,"span",1),c(1),d()),t&2){let e=s();i(),u(e.label())}}function R(t,a){if(t&1){let e=T();l(0,"li")(1,"button",6),m("click",function(){let o=x(e).$implicit,p=s(2);return P(p.selectOption(o))}),c(2),d()()}if(t&2){let e=a.$implicit,n=s(2);i(),_("selected",e.value===n.control().value),i(),F(" ",e.label," ")}}function j(t,a){if(t&1&&(l(0,"ul",4),b(1,R,3,3,"li",null,L),d()),t&2){let e=s();i(),v(e.options())}}function A(t,a){if(t&1&&(l(0,"small",5),c(1),d()),t&2){let e=a.$implicit;i(),u(e)}}var Y=(()=>{class t{get selectedLabel(){return this.options()?.find(n=>n.value===this.control().value)?.label}constructor(){this.control=r.required(),this.disabled=r(!1),this.isOpen=f(!1),this.label=r(""),this.name=r(""),this.options=r.required(),this.placeholder=r("Selecione uma op\xE7\xE3o"),this.selectedOption=f(null),this.selectedValue=r(null),this.selectedValueChange=M(),this.elementRef=g(D),this.formService=g(B),O(()=>{let e=this.selectedValue();e!=null&&this.updateSelection(e)}),O(()=>{let e=this.control().value;this.updateSelection(e)})}getErrors(){return this.formService.getFieldErrors(this.name(),this.control())}onDocumentClick(e){this.elementRef.nativeElement.contains(e.target)||this.isOpen.set(!1)}onFocus(){this.validateDropdown()}selectOption(e){this.selectedOption.set(e),this.control().setValue(e.value),this.selectedValueChange.emit(e.value),this.isOpen.set(!1)}toggleDropdown(e){e.stopPropagation(),this.disabled()||(this.isOpen.update(n=>!n),this.validateDropdown())}updateSelection(e){let n=this.options()?.find(o=>o.value===e);this.selectedOption.set(n||null),n&&(this.control().setValue(n.value),this.selectedValueChange.emit(n.value))}validateDropdown(){this.control().hasValidator(z.required)&&!this.control().value&&(this.control().markAsTouched(),this.control().setErrors({required:!0}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=V({type:t,selectors:[["pgm-dropdown"]],hostBindings:function(n,o){n&1&&m("click",function(h){return o.onDocumentClick(h)},!1,k)},inputs:{control:[1,"control"],disabled:[1,"disabled"],label:[1,"label"],name:[1,"name"],options:[1,"options"],placeholder:[1,"placeholder"],selectedValue:[1,"selectedValue"]},outputs:{selectedValueChange:"selectedValueChange"},decls:9,vars:10,consts:[[1,"dropdown"],[1,"dropdown__label"],[1,"dropdown__header",3,"focus","click","ngClass"],[1,"dropdown__arrow"],[1,"dropdown__menu"],["tabindex","0",1,"dropdown__error"],[1,"dropdown__menu-item",3,"click"]],template:function(n,o){n&1&&(l(0,"div",0),w(1,$,2,1,"span",1),l(2,"button",2),m("focus",function(){return o.onFocus()})("click",function(h){return o.toggleDropdown(h)}),l(3,"span"),c(4),d(),y(5,"span",3),d(),w(6,j,3,0,"ul",4),b(7,A,2,1,"small",5,E),d()),n&2&&(_("disabled",o.disabled()),i(),C(o.label()?1:-1),i(),S("ngClass",I(8,H,!o.selectedLabel)),i(2),u(o.selectedLabel||o.placeholder()),i(),_("open",o.isOpen()),i(),C(o.isOpen()?6:-1),i(),v(o.getErrors()))},dependencies:[q],styles:[".dropdown__label[_ngcontent-%COMP%]{font-size:1.6rem;line-height:2.4rem}@media (min-width: 768px){.dropdown__label[_ngcontent-%COMP%]{font-size:1.7rem;line-height:2.6rem}}@media (min-width: 1200px){.dropdown__label[_ngcontent-%COMP%]{font-size:1.8rem;line-height:2.7rem}}.dropdown__header[_ngcontent-%COMP%], .dropdown__menu-item[_ngcontent-%COMP%]{padding:1rem}@media (min-width: 768px){.dropdown__header[_ngcontent-%COMP%], .dropdown__menu-item[_ngcontent-%COMP%]{padding:1.2rem}}@media (min-width: 1200px){.dropdown__header[_ngcontent-%COMP%], .dropdown__menu-item[_ngcontent-%COMP%]{padding:1.4rem}}.dropdown__menu[_ngcontent-%COMP%]{border-radius:.5rem;box-shadow:0 2px 4px #00000026}.dropdown[_ngcontent-%COMP%]{position:relative;width:100%}.dropdown__label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.dropdown__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;color:#343a40;background-color:#fff;border:1px solid #dee2e6;border-radius:.5rem;transition:all .3s ease}.dropdown__header[_ngcontent-%COMP%]:hover{border-color:#749483}.dropdown__header.placeholder[_ngcontent-%COMP%]{color:#6c757d}.dropdown__arrow[_ngcontent-%COMP%]{width:0;height:0;border-top:5px solid #749483;border-right:5px solid transparent;border-left:5px solid transparent;transition:transform .3s ease}.dropdown__arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown__menu[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;left:0;z-index:1000;max-height:200px;padding:0;margin-top:.25rem;overflow-y:auto;background-color:#fff}.dropdown__menu-item[_ngcontent-%COMP%]{width:100%;text-align:left}.dropdown__menu-item[_ngcontent-%COMP%]:hover, .dropdown__menu-item.selected[_ngcontent-%COMP%]{color:#fff;background-color:#749483}.dropdown.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.dropdown.disabled[_ngcontent-%COMP%]   .dropdown__header[_ngcontent-%COMP%]{background-color:#f8f9fa}.dropdown__error[_ngcontent-%COMP%]{color:#dc3545}"],changeDetection:0})}}return t})();export{Y as a};
