import{a as h}from"./chunk-KHPWXMK2.js";import{a as n}from"./chunk-C25HR74B.js";import{W as s,Z as r,da as o,wa as a}from"./chunk-XQT5PYR5.js";var c={apiLocalizationUrl:"https://servicodados.ibge.gov.br/api/v1/localidades",apiUrl:"",production:!0};var A=(()=>{class i{constructor(){this.http=o(n),this.isAuthenticated=a(this.hasValidToken()),this.API_URL=`${c.apiUrl}/auth`,this.publicNavigationService=o(h),this.TOKEN_KEY="access_token"}forgotPassword(t){return this.http.post(`${this.API_URL}/forgot-password`,{email:t})}getToken(){return sessionStorage.getItem(this.TOKEN_KEY)}login(t,e){return this.http.post(`${this.API_URL}/login`,{email:t,password:e}).pipe(s(p=>{sessionStorage.setItem(this.TOKEN_KEY,p.access_token),this.isAuthenticated.set(!0)}))}logout(){sessionStorage.removeItem(this.TOKEN_KEY),this.isAuthenticated.set(!1),this.publicNavigationService.navigateToLogin()}register(t,e){return this.http.post(`${this.API_URL}/register`,{email:e,name:t}).pipe(s(()=>{this.isAuthenticated.set(!1)}))}hasValidToken(){return!0}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=r({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{c as a,A as b};
