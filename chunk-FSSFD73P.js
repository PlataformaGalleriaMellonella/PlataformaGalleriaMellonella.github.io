import{a as E}from"./chunk-VFYN5TL2.js";import{d as y,t as k}from"./chunk-7OKYXSIP.js";import{j as V}from"./chunk-IM67MRJR.js";import{$a as O,Bb as p,Cb as M,Jb as h,Kb as g,Ra as b,Rb as P,Sa as r,da as f,eb as v,mb as s,nb as _,pb as D,ta as w,ua as i,ub as l,va as C,vb as d,wa as m,wb as u}from"./chunk-ZFSUHPNE.js";var x=o=>({placeholder:o});function S(o,T){if(o&1&&(l(0,"span",1),h(1),d()),o&2){let n=M();r(),g(n.label())}}var A=(()=>{class o{constructor(){this.control=i.required(),this.disabled=i(!1),this.isOpen=m(!1),this.label=i(""),this.name=i(""),this.options=i.required(),this.placeholder=i("Selecione uma op\xE7\xE3o"),this.selectedOption=m(null),this.selectedValue=i(),this.selectedValueChange=w(),this.elementRef=f(C)}get selectedLabel(){return this.options()?.find(t=>t.value===this.control().value)?.label}onBlur(){this.validateDropdown()}onDocumentClick(n){this.elementRef.nativeElement.contains(n.target)||this.isOpen.set(!1)}selectOption(n){this.selectedOption.set(n),this.control().setValue(n.value),this.selectedValueChange.emit(n.value),this.isOpen.set(!1)}toggleDropdown(n){n.stopPropagation(),this.disabled()||this.isOpen.update(t=>!t)}validateDropdown(){this.control().hasValidator(y.required)&&!this.control().value&&(this.control().markAsTouched(),this.control().setErrors({required:!0}))}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=O({type:o,selectors:[["pgm-dropdown"]],hostBindings:function(t,e){t&1&&p("click",function(a){return e.onDocumentClick(a)},!1,b)},inputs:{control:[1,"control"],disabled:[1,"disabled"],label:[1,"label"],name:[1,"name"],options:[1,"options"],placeholder:[1,"placeholder"],selectedValue:[1,"selectedValue"]},outputs:{selectedValueChange:"selectedValueChange"},decls:8,vars:14,consts:[[1,"dropdown"],[1,"dropdown__label"],[1,"dropdown__header",3,"blur","click","ngClass"],[1,"dropdown__arrow"],[3,"selectedValueChange","visible","options","selectedValue"],[3,"control","name"]],template:function(t,e){t&1&&(l(0,"div",0),v(1,S,2,1,"span",1),l(2,"button",2),p("blur",function(){return e.onBlur()})("click",function(a){return e.toggleDropdown(a)}),l(3,"span"),h(4),d(),u(5,"span",3),d(),l(6,"pgm-dropdown-menu",4),p("selectedValueChange",function(a){return e.selectOption(a)}),d(),u(7,"pgm-field-errors",5),d()),t&2&&(_("disabled",e.disabled()),r(),D(e.label()?1:-1),r(),s("ngClass",P(12,x,!e.selectedLabel)),r(2),g(e.selectedLabel||e.placeholder()),r(),_("open",e.isOpen()),r(),s("visible",e.isOpen())("options",e.options())("selectedValue",e.selectedValue()),r(),s("control",e.control())("name",e.name()))},dependencies:[V,E,k],styles:[".dropdown__label[_ngcontent-%COMP%]{font-size:1.6rem;line-height:2.4rem}@media (min-width: 768px){.dropdown__label[_ngcontent-%COMP%]{font-size:1.7rem;line-height:2.6rem}}@media (min-width: 1200px){.dropdown__label[_ngcontent-%COMP%]{font-size:1.8rem;line-height:2.7rem}}.dropdown__header[_ngcontent-%COMP%]{padding:1rem}@media (min-width: 768px){.dropdown__header[_ngcontent-%COMP%]{padding:1.2rem}}@media (min-width: 1200px){.dropdown__header[_ngcontent-%COMP%]{padding:1.4rem}}.dropdown[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:.5rem;width:100%}.dropdown__label[_ngcontent-%COMP%]{display:block}.dropdown__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;color:#343a40;background-color:#fff;border:1px solid #dee2e6;border-radius:.5rem;transition:all .3s ease}.dropdown__header[_ngcontent-%COMP%]:hover{border-color:#749483}.dropdown__header.placeholder[_ngcontent-%COMP%]{color:#6c757d}.dropdown__arrow[_ngcontent-%COMP%]{width:0;height:0;border-top:5px solid #749483;border-right:5px solid transparent;border-left:5px solid transparent;transition:transform .3s ease}.dropdown__arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.dropdown.disabled[_ngcontent-%COMP%]   .dropdown__header[_ngcontent-%COMP%]{background-color:#f8f9fa}"],changeDetection:0})}}return o})();export{A as a};
