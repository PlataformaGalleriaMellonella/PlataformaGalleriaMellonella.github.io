import{a as H}from"./chunk-FQOYQYWQ.js";import{d as F,r as q}from"./chunk-NS7E2CYG.js";import{j as B}from"./chunk-22XWPGPG.js";import{$a as P,Bb as a,Cb as s,Jb as p,Kb as c,Ra as M,Rb as T,Sa as i,da as u,eb as w,ja as O,ka as v,mb as f,nb as C,pb as b,qb as V,sb as k,ta as x,tb as y,ua as r,ub as d,va as D,vb as l,wa as g,wb as E,xb as S}from"./chunk-XQT5PYR5.js";var I=t=>({placeholder:t});function L(t,m){if(t&1&&(d(0,"span",1),p(1),l()),t&2){let e=s();i(),c(e.label())}}function z(t,m){if(t&1){let e=S();d(0,"pgm-dropdown-menu",6),a("selectedValueChange",function(n){O(e);let _=s();return v(_.selectOption(n))}),l()}if(t&2){let e=s();f("options",e.options())("selectedValue",e.selectedValue())}}function R(t,m){if(t&1&&(d(0,"small",5),p(1),l()),t&2){let e=m.$implicit;i(),c(e)}}var W=(()=>{class t{constructor(){this.control=r.required(),this.disabled=r(!1),this.isOpen=g(!1),this.label=r(""),this.name=r(""),this.options=r.required(),this.placeholder=r("Selecione uma op\xE7\xE3o"),this.selectedOption=g(null),this.selectedValue=r(),this.selectedValueChange=x(),this.elementRef=u(D),this.formService=u(q)}get selectedLabel(){return this.options()?.find(o=>o.value===this.control().value)?.label}getErrors(){return this.formService.getFieldErrors(this.name(),this.control())}onBlur(){this.validateDropdown()}onDocumentClick(e){this.elementRef.nativeElement.contains(e.target)||this.isOpen.set(!1)}selectOption(e){this.selectedOption.set(e),this.control().setValue(e.value),this.selectedValueChange.emit(e.value),this.isOpen.set(!1)}toggleDropdown(e){e.stopPropagation(),this.disabled()||this.isOpen.update(o=>!o)}validateDropdown(){this.control().hasValidator(F.required)&&!this.control().value&&(this.control().markAsTouched(),this.control().setErrors({required:!0}))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=P({type:t,selectors:[["pgm-dropdown"]],hostBindings:function(o,n){o&1&&a("click",function(h){return n.onDocumentClick(h)},!1,M)},inputs:{control:[1,"control"],disabled:[1,"disabled"],label:[1,"label"],name:[1,"name"],options:[1,"options"],placeholder:[1,"placeholder"],selectedValue:[1,"selectedValue"]},outputs:{selectedValueChange:"selectedValueChange"},decls:9,vars:10,consts:[[1,"dropdown"],[1,"dropdown__label"],[1,"dropdown__header",3,"click","ngClass"],[1,"dropdown__arrow"],[3,"options","selectedValue"],["tabindex","0",1,"dropdown__error"],[3,"selectedValueChange","options","selectedValue"]],template:function(o,n){o&1&&(d(0,"div",0),w(1,L,2,1,"span",1),d(2,"button",2),a("click",function(h){return n.toggleDropdown(h)}),d(3,"span"),p(4),l(),E(5,"span",3),l(),w(6,z,1,2,"pgm-dropdown-menu",4),k(7,R,2,1,"small",5,V),l()),o&2&&(C("disabled",n.disabled()),i(),b(n.label()?1:-1),i(),f("ngClass",T(8,I,!n.selectedLabel)),i(2),c(n.selectedLabel||n.placeholder()),i(),C("open",n.isOpen()),i(),b(n.isOpen()?6:-1),i(),y(n.getErrors()))},dependencies:[B,H],styles:[".dropdown__label[_ngcontent-%COMP%]{font-size:1.6rem;line-height:2.4rem}@media (min-width: 768px){.dropdown__label[_ngcontent-%COMP%]{font-size:1.7rem;line-height:2.6rem}}@media (min-width: 1200px){.dropdown__label[_ngcontent-%COMP%]{font-size:1.8rem;line-height:2.7rem}}.dropdown__header[_ngcontent-%COMP%]{padding:1rem}@media (min-width: 768px){.dropdown__header[_ngcontent-%COMP%]{padding:1.2rem}}@media (min-width: 1200px){.dropdown__header[_ngcontent-%COMP%]{padding:1.4rem}}.dropdown[_ngcontent-%COMP%]{position:relative;width:100%}.dropdown__label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.dropdown__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;color:#343a40;background-color:#fff;border:1px solid #dee2e6;border-radius:.5rem;transition:all .3s ease}.dropdown__header[_ngcontent-%COMP%]:hover{border-color:#749483}.dropdown__header.placeholder[_ngcontent-%COMP%]{color:#6c757d}.dropdown__arrow[_ngcontent-%COMP%]{width:0;height:0;border-top:5px solid #749483;border-right:5px solid transparent;border-left:5px solid transparent;transition:transform .3s ease}.dropdown__arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.dropdown.disabled[_ngcontent-%COMP%]   .dropdown__header[_ngcontent-%COMP%]{background-color:#f8f9fa}.dropdown__error[_ngcontent-%COMP%]{color:#dc3545}"],changeDetection:0})}}return t})();export{W as a};
