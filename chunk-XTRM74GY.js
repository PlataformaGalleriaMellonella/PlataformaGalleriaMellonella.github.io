import{a as M,b as c,c as S,d as O,e as P,f as L,g as w,h as F,i as R,j as u,k as E,l as q}from"./chunk-QBUG3MQY.js";import{a as D}from"./chunk-ZU3ZFTUG.js";import{a as y}from"./chunk-6IJRFTY6.js";import{i as k,j as x,m as v}from"./chunk-YZFDS22F.js";import{$a as r,Aa as n,Ja as h,Ua as o,X as p,ab as a,bb as g,db as d,kb as m,la as f,lb as C,ma as s,oa as b}from"./chunk-BW4FWTPU.js";var T=(()=>{class l{constructor(){this.checked=s(!1),this.label=s.required(),this.value=s("",{transform:t=>t.trim()}),this.indeterminate=s(!1),this.required=s(!1),this.name=s(""),this.customClass=s(""),this.control=s.required(),this.checkedChange=f()}onCheckboxChange(t){let i=t.target;this.checkedChange.emit(i.checked)}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=h({type:l,selectors:[["pgm-checkbox"]],inputs:{checked:[1,"checked"],label:[1,"label"],value:[1,"value"],indeterminate:[1,"indeterminate"],required:[1,"required"],name:[1,"name"],customClass:[1,"customClass"],control:[1,"control"]},outputs:{checkedChange:"checkedChange"},decls:5,vars:7,consts:[[1,"checkbox"],["id","checkbox","type","checkbox",1,"checkbox__input",3,"change","formControl","checked","required","name","value","indeterminate"],[1,"checkbox__checkmark"],["for","checkbox",1,"checkbox__label"]],template:function(i,e){i&1&&(r(0,"label",0)(1,"input",1),d("change",function(V){return e.onCheckboxChange(V)}),a(),g(2,"span",2),r(3,"label",3),m(4),a()()),i&2&&(n(),o("formControl",e.control())("checked",e.checked())("required",e.required())("name",e.name())("value",e.value())("indeterminate",e.indeterminate()),n(3),C(e.label()))},dependencies:[u,M,S,F,L,R],styles:['.checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.checkbox__input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkbox__checkmark[_ngcontent-%COMP%]{display:inline-block;position:relative;height:22px;width:22px;background-color:#e9ecef;border-radius:4px;transition:all .3s ease}.checkbox__checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:9px;top:5px;width:5px;height:10px;border:solid #ffffff;border-width:0 3px 3px 0;transform:rotate(45deg)}.checkbox[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ced4da}.checkbox__input[_ngcontent-%COMP%]:checked ~ .checkbox__checkmark[_ngcontent-%COMP%]{background-color:#91aa9d}.checkbox__input[_ngcontent-%COMP%]:checked ~ .checkbox__checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox__label[_ngcontent-%COMP%]{margin-left:.5rem;line-height:1.5rem;cursor:pointer;color:#6c757d}'],changeDetection:0})}}return l})();var te=(()=>{class l{constructor(){this.formService=p(E),this.authService=p(D),this.router=p(k),this.isLoading=b(!1),this.loginForm=this.formService.createForm({email:{validators:[c.required,c.email]},password:{validators:[c.required,c.minLength(6)]},remember:{value:!1}}),this.registerForm=this.formService.createForm({name:{validators:[c.required,c.maxLength(150)]},email:{validators:[c.required,c.email]}})}getLoginControl(t){return this.loginForm.get(t)}getRegisterControl(t){return this.registerForm.get(t)}onLoginSubmit(){if(this.loginForm.valid){this.isLoading.set(!0);let{email:t,password:i}=this.loginForm.getRawValue();this.authService.login(t,i).subscribe({next:()=>{this.router.navigate(["comunidade"]),this.isLoading.set(!1)},error:e=>{console.error("Login failed:",e),this.isLoading.set(!1)}})}}onRegisterSubmit(){if(this.registerForm.valid){this.isLoading.set(!0);let{name:t,email:i}=this.registerForm.getRawValue();this.router.navigate(["comunidade","cadastro"]),this.authService.register(t,i).subscribe({next:()=>{this.isLoading.set(!1)},error:e=>{console.error("Login failed:",e),this.isLoading.set(!1)}})}}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=h({type:l,selectors:[["pgm-register-login"]],decls:23,vars:13,consts:[[1,"login-register"],[1,"login-register__container"],[1,"login-register__form",3,"ngSubmit","formGroup"],[1,"login-register__title"],[1,"login-register__message"],["label","Email","type","email","placeholder","Digite seu email","name","email",3,"control"],["label","Senha","type","password","placeholder","Digite sua senha","name","senha",3,"control"],["label","Lembrar de mim",3,"control"],[1,"login-register__links"],["routerLink","/esqueci-senha",1,"login-register__forgot-password"],["text","Entrar","loadingText","Entrando...","type","submit",3,"loading","disabled","block"],[1,"login-register__divider"],["label","Nome completo","type","text","placeholder","Digite seu nome","name","name",3,"control"],["text","Cadastrar","loadingText","Cadastrando...","type","submit",3,"loading","disabled","block"]],template:function(i,e){i&1&&(r(0,"div",0)(1,"div",1)(2,"form",2),d("ngSubmit",function(){return e.onLoginSubmit()}),r(3,"h1",3),m(4,"Bem-vindo de volta!"),a(),r(5,"p",4),m(6,"Acesse sua conta para explorar todos os recursos da plataforma."),a(),g(7,"pgm-text-input",5)(8,"pgm-text-input",6)(9,"pgm-checkbox",7),r(10,"div",8)(11,"a",9),m(12," Esqueci minha senha "),a()(),g(13,"pgm-button",10),a(),g(14,"div",11),r(15,"form",2),d("ngSubmit",function(){return e.onRegisterSubmit()}),r(16,"h1",3),m(17,"Crie sua conta"),a(),r(18,"p",4),m(19,"Cadastre-se para come\xE7ar a usar a plataforma e aproveitar todos os benef\xEDcios. "),a(),g(20,"pgm-text-input",12)(21,"pgm-text-input",5)(22,"pgm-button",13),a()()()),i&2&&(n(2),o("formGroup",e.loginForm),n(5),o("control",e.getLoginControl("email")),n(),o("control",e.getLoginControl("password")),n(),o("control",e.getLoginControl("remember")),n(4),o("loading",e.isLoading())("disabled",e.loginForm.invalid)("block",!0),n(2),o("formGroup",e.registerForm),n(5),o("control",e.getRegisterControl("name")),n(),o("control",e.getRegisterControl("email")),n(),o("loading",e.isLoading())("disabled",e.registerForm.invalid)("block",!0))},dependencies:[u,P,O,w,v,x,y,q,T],styles:['.login-register[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:2rem;height:100%;background:linear-gradient(to bottom right,#9cb3a7,#7f9c8d)}.login-register__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}@media (min-width: 992px){.login-register__container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-basis:60%}}.login-register__title[_ngcontent-%COMP%]{text-align:center;color:#91aa9d}.login-register__message[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;font-size:1.25rem;color:#6c757d}.login-register__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;gap:1rem;padding:1rem}@media (min-width: 768px){.login-register__form[_ngcontent-%COMP%]{padding:2rem}}@media (min-width: 992px){.login-register__form[_ngcontent-%COMP%]{padding:4rem}}.login-register__links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.login-register__links[_ngcontent-%COMP%]   .login__forgot-password[_ngcontent-%COMP%]{color:#91aa9d;font-size:.875rem;font-weight:700}.login-register__links[_ngcontent-%COMP%]   .login__forgot-password[_ngcontent-%COMP%]:hover{color:#749483;transition:color .3s ease-in-out}.login-register__divider[_ngcontent-%COMP%]{display:flex;align-items:center}.login-register__divider[_ngcontent-%COMP%]:before{content:"";height:2px;margin-inline:1rem;width:100%;background-color:#ced4da;z-index:0}@media (min-width: 992px){.login-register__divider[_ngcontent-%COMP%]:before{width:2px;margin-inline:none;height:calc(100% - 2rem)}}'],changeDetection:0})}}return l})();export{te as RegisterLoginComponent};
