import{a as M,b as d,c as O,d as P,g as S,h as w,i as F,j as E,k as L,l as u,m as q,n as D}from"./chunk-B7K3AB5Y.js";import{a as R}from"./chunk-CJRHIBMB.js";import{a as y}from"./chunk-42LSX6LJ.js";import{i as C,j as x,m as v}from"./chunk-YZFDS22F.js";import{$a as r,Aa as o,Ja as p,Ua as i,X as g,ab as a,bb as m,db as h,kb as s,la as f,lb as b,ma as l,oa as k,ob as _}from"./chunk-BW4FWTPU.js";var T=(()=>{class c{constructor(){this.checked=l(!1),this.label=l.required(),this.value=l("",{transform:n=>n.trim()}),this.indeterminate=l(!1),this.required=l(!1),this.name=l(""),this.customClass=l(""),this.control=l.required(),this.checkedChange=f()}onCheckboxChange(n){let t=n.target;this.checkedChange.emit(t.checked)}static{this.\u0275fac=function(t){return new(t||c)}}static{this.\u0275cmp=p({type:c,selectors:[["pgm-checkbox"]],inputs:{checked:[1,"checked"],label:[1,"label"],value:[1,"value"],indeterminate:[1,"indeterminate"],required:[1,"required"],name:[1,"name"],customClass:[1,"customClass"],control:[1,"control"]},outputs:{checkedChange:"checkedChange"},decls:5,vars:7,consts:[[1,"checkbox"],["id","checkbox","type","checkbox",1,"checkbox__input",3,"change","formControl","checked","required","name","value","indeterminate"],[1,"checkbox__checkmark"],["for","checkbox",1,"checkbox__label"]],template:function(t,e){t&1&&(r(0,"label",0)(1,"input",1),h("change",function(V){return e.onCheckboxChange(V)}),a(),m(2,"span",2),r(3,"label",3),s(4),a()()),t&2&&(o(),i("formControl",e.control())("checked",e.checked())("required",e.required())("name",e.name())("value",e.value())("indeterminate",e.indeterminate()),o(3),b(e.label()))},dependencies:[u,M,O,E,w,L],styles:['.checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.checkbox__input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkbox__checkmark[_ngcontent-%COMP%]{display:inline-block;position:relative;height:22px;width:22px;background-color:#e9ecef;border-radius:4px;transition:all .3s ease}.checkbox__checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:9px;top:5px;width:5px;height:10px;border:solid #ffffff;border-width:0 3px 3px 0;transform:rotate(45deg)}.checkbox[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ced4da}.checkbox__input[_ngcontent-%COMP%]:checked ~ .checkbox__checkmark[_ngcontent-%COMP%]{background-color:#749483}.checkbox__input[_ngcontent-%COMP%]:checked ~ .checkbox__checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox__label[_ngcontent-%COMP%]{margin-left:.5rem;line-height:1.5rem;cursor:pointer;color:#6c757d}'],changeDetection:0})}}return c})();var z=()=>["/comunidade","esqueci-senha"],A=()=>["/comunidade","cadastro"],ie=(()=>{class c{constructor(){this.formService=g(q),this.authService=g(R),this.router=g(C),this.isLoading=k(!1),this.loginForm=this.formService.createForm({email:{validators:[d.required,d.email]},password:{validators:[d.required,d.minLength(6)]},remember:{value:!1}})}getControl(n){return this.loginForm.get(n)}getErrors(n){let t=this.loginForm.get(n);return this.formService.getFieldErrors(n,t)}onSubmit(){if(this.loginForm.valid){this.isLoading.set(!0);let{email:n,password:t}=this.loginForm.getRawValue();this.authService.login(n,t).subscribe({next:()=>{this.router.navigate(["comunidade"]),this.isLoading.set(!1)},error:e=>{console.error("Login failed:",e),this.isLoading.set(!1)}})}}static{this.\u0275fac=function(t){return new(t||c)}}static{this.\u0275cmp=p({type:c,selectors:[["app-login"]],decls:19,vars:11,consts:[[1,"login"],[1,"login__container"],[1,"login__title"],[1,"login__message"],[1,"login__form",3,"ngSubmit","formGroup"],["label","Email","type","email","placeholder","Digite seu email","name","email",3,"control"],["label","Senha","type","password","placeholder","Digite sua senha","name","senha",3,"control"],["label","Lembrar de mim",3,"control"],[1,"login__links"],[1,"login__forgot-password",3,"routerLink"],["text","Entrar","loadingText","Entrando...","type","submit",3,"loading","disabled","block"],[1,"login__register"],[3,"routerLink"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Bem-vindo de volta!"),a(),r(4,"p",3),s(5,"Fa\xE7a login para acessar a plataforma."),a(),r(6,"form",4),h("ngSubmit",function(){return e.onSubmit()}),m(7,"pgm-text-input",5)(8,"pgm-text-input",6)(9,"pgm-checkbox",7),r(10,"div",8)(11,"a",9),s(12," Esqueci minha senha "),a()(),m(13,"pgm-button",10),a(),r(14,"div",11)(15,"span"),s(16,"N\xE3o tem uma conta?"),a(),r(17,"a",12),s(18,"Cadastre-se"),a()()()()),t&2&&(o(6),i("formGroup",e.loginForm),o(),i("control",e.getControl("email")),o(),i("control",e.getControl("password")),o(),i("control",e.getControl("remember")),o(2),i("routerLink",_(9,z)),o(2),i("loading",e.isLoading())("disabled",e.loginForm.invalid)("block",!0),o(4),i("routerLink",_(10,A)))},dependencies:[u,S,P,F,v,x,y,D,T],styles:[".login[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;height:100%;background:linear-gradient(135deg,#465c50,#749483)}.login__container[_ngcontent-%COMP%]{width:95%;padding:1rem;border-radius:8px;background:#fff;box-shadow:0 2px 8px #0000001a}@media (min-width: 768px){.login__container[_ngcontent-%COMP%]{padding:2rem}}@media (min-width: 992px){.login__container[_ngcontent-%COMP%]{padding:3rem;width:40rem}}.login__title[_ngcontent-%COMP%]{text-align:center;color:#749483}.login__message[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;font-size:1.25rem;color:#6c757d}.login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.login__links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.login__links[_ngcontent-%COMP%]   .login__forgot-password[_ngcontent-%COMP%]{color:#749483;font-size:.875rem;font-weight:700}.login__links[_ngcontent-%COMP%]   .login__forgot-password[_ngcontent-%COMP%]:hover{color:#5d786a;transition:color .3s ease-in-out}.login__register[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.5rem;margin-top:1.5rem}@media (min-width: 992px){.login__register[_ngcontent-%COMP%]{flex-direction:row;display:flex;justify-content:center;align-items:center}}.login__register[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d}"],changeDetection:0})}}return c})();export{ie as LoginComponent};
