import{b as x,c as ge,d as me,e as ue,f as fe,g as he,h as Ce,i as _e,j as S}from"./chunk-LXZGFGKQ.js";import{$a as se,C as m,D as G,Da as l,I as $,Ia as ee,L as w,La as te,N as K,Na as j,Pa as P,Q as R,Qa as E,Ra as ne,T as Y,Ta as oe,Ua as re,V as F,Va as s,W as M,Wa as c,X as Z,Xa as h,Ya as ie,Za as U,_a as ae,a as L,aa as q,ab as ce,ba as J,bb as C,cb as pe,db as le,ea as Q,gb as de,h as H,ia as X,k as V,ka as N,l as O,m as B,p as g,s as z,t as D,v as I,va as p,w as A,x as f,y as v}from"./chunk-QBVUX4LU.js";var Te=(e,o)=>o.route;function De(e,o){e&1&&(s(0,"span",4),C(1,"close"),c())}function Ie(e,o){e&1&&(s(0,"span",4),C(1,"menu"),c())}function Ae(e,o){if(e&1){let t=ie();s(0,"li")(1,"a",6),U("click",function(){q(t);let r=ae();return J(r.toggleMenu())}),C(2),c()()}if(e&2){let t=o.$implicit;p(),P("routerLink",t.route),p(),pe(t.label)}}var ve=(()=>{class e{constructor(){this.title="Plataforma Galleria mellonella",this.isMenuOpen=!1,this.navigationItems=[{label:"P\xE1gina inicial",route:"/"},{label:"Divulga\xE7\xE3o Cient\xEDfica",route:"/divulgacao-cientifica"},{label:"Biblioteca",route:"/biblioteca"},{label:"Comunidade",route:"/comunidade"},{label:"Contato",route:"/contato"}]}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=l({type:e,selectors:[["pgm-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"header__logo-container"],["src","icons/pgm-logo.png","alt",""],[1,"header__menu-toggle",3,"click"],[1,"material-icons"],[1,"header__navigation"],[3,"click","routerLink"]],template:function(n,r){n&1&&(s(0,"header",0)(1,"div",1),h(2,"img",2),c(),s(3,"button",3),U("click",function(){return r.toggleMenu()}),ee(4,De,2,0,"span",4)(5,Ie,2,0,"span",4),c(),s(6,"nav",5)(7,"ul"),oe(8,Ae,3,2,"li",null,Te),c()()()),n&2&&(p(4),ne(r.isMenuOpen?4:5),p(2),E("header__navigation--open",r.isMenuOpen),p(2),re(r.navigationItems))},dependencies:[x,Ce],styles:["[_ngcontent-%COMP%]:root{grid-area:header}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative;padding:1rem;color:#fff;background:#91aa9d;box-shadow:0 2px 5px #0000001a}.header__logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.header__logo-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem}.header__logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:110px;width:320px}.header__menu-toggle[_ngcontent-%COMP%]{display:block;background:none;border:none;color:#fff;cursor:pointer;padding:.5rem;z-index:100}.header__menu-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}@media (min-width: 768px){.header__menu-toggle[_ngcontent-%COMP%]{display:none}}.header__navigation[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;width:80%;height:100vh;background:#91aa9d;transition:right .3s ease;padding-top:4rem}.header__navigation--open[_ngcontent-%COMP%]{right:0}.header__navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:0;padding:1rem;list-style:none}.header__navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.5rem;font-weight:700;text-decoration:none;transition:color .3s ease;color:#fff}.header__navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ced4da}@media (min-width: 768px){.header__navigation[_ngcontent-%COMP%]{position:static;width:auto;height:auto;padding-top:0;background:none}.header__navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2rem;padding:1rem}.header__navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0}}"],changeDetection:0})}}return e})();var Re=["*"],we=(()=>{class e{constructor(){this.fluid=N(!1),this.narrow=N(!1)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=l({type:e,selectors:[["pgm-container"]],inputs:{fluid:[1,"fluid"],narrow:[1,"narrow"]},ngContentSelectors:Re,decls:2,vars:4,consts:[[1,"container"]],template:function(n,r){n&1&&(se(),s(0,"div",0),ce(1),c()),n&2&&E("container--fluid",r.fluid())("container--narrow",r.narrow())},styles:[".container[_ngcontent-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 576px){.container[_ngcontent-%COMP%]{max-width:540px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:720px;padding-right:2rem;padding-left:2rem}}@media (min-width: 992px){.container[_ngcontent-%COMP%]{max-width:960px}}@media (min-width: 1200px){.container[_ngcontent-%COMP%]{max-width:1140px}}.container--fluid[_ngcontent-%COMP%]{max-width:none}@media (min-width: 768px){.container--narrow[_ngcontent-%COMP%]{max-width:680px}}@media (min-width: 992px){.container--narrow[_ngcontent-%COMP%]{max-width:780px}}"],changeDetection:0})}}return e})();var Me=(()=>{class e{constructor(){this.currentYear=new Date().getFullYear(),this.links=[{label:"P\xE1gina inicial",route:"/"},{label:"Divulga\xE7\xE3o Cient\xEDfica",route:"/divulgacao-cientifica"},{label:"Biblioteca",route:"/biblioteca"},{label:"Comunidade",route:"/comunidade"},{label:"Contato",route:"/contato"}]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=l({type:e,selectors:[["pgm-footer"]],decls:3,vars:1,consts:[[1,"footer"],[1,"footer__copyright"]],template:function(n,r){n&1&&(s(0,"footer",0)(1,"p",1),C(2),c()()),n&2&&(p(2),le("\xA9 ",r.currentYear," Plataforma Galleria Mellonella. Todos os direitos reservados."))},dependencies:[x],styles:["[_ngcontent-%COMP%]:root{grid-area:footer}.footer[_ngcontent-%COMP%]{background:#91aa9d;color:#fff;padding:1rem;display:flex;flex-direction:column;gap:2rem}.footer__content[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:1200px;margin:0 auto}.footer__navigation[_ngcontent-%COMP%]{width:100%}.footer__navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;margin:0;padding:0;list-style:none}.footer__navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;transition:color .3s ease}.footer__navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ced4da}.footer__copyright[_ngcontent-%COMP%]{text-align:center;margin:0;font-size:.9rem;padding-top:1rem}@media (min-width: 768px){.footer[_ngcontent-%COMP%]{padding:2rem}.footer__navigation[_ngcontent-%COMP%]{width:auto}.footer__navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:row;gap:2rem}}"],changeDetection:0})}}return e})();var be=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=l({type:e,selectors:[["pgm-root"]],decls:5,vars:1,consts:[[1,"content"],[3,"narrow"]],template:function(n,r){n&1&&(h(0,"pgm-header"),s(1,"div",0)(2,"pgm-container",1),h(3,"router-outlet"),c()(),h(4,"pgm-footer")),n&2&&(p(2),P("narrow",!0))},dependencies:[ve,we,Me,fe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.content[_ngcontent-%COMP%]{flex:1}"]})}}return e})();var ye=(e,o)=>{let t=M(S),n=M(he);return t.isAuthenticated()?!0:n.createUrlTree(["/login"],{queryParams:{returnUrl:o.url}})};var Oe=[{path:"",loadComponent:()=>import("./chunk-S7RQJR6I.js").then(e=>e.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-4WNTPVB4.js").then(e=>e.LoginComponent)},{path:"divulgacao-cientifica",loadComponent:()=>import("./chunk-FAQEQ4HY.js").then(e=>e.ScientificOutreachComponent)},{path:"biblioteca",loadComponent:()=>import("./chunk-IWNF4BFJ.js").then(e=>e.LibraryComponent)},{path:"comunidade",canActivate:[ye],loadComponent:()=>import("./chunk-DNW7R7KJ.js").then(e=>e.CommunityComponent)},{path:"contato",loadComponent:()=>import("./chunk-TVORI65K.js").then(e=>e.ContactComponent)},{path:"**",loadComponent:()=>import("./chunk-A6GQSR4O.js").then(e=>e.NotFoundComponent)}];var y="Service workers are disabled or not supported by this browser";function Fe(e){return D(()=>B(new Error(e)))}var _=class{serviceWorker;worker;registration;events;constructor(o){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=Fe(y);else{let n=I(o,"controllerchange").pipe(g(()=>o.controller)),r=D(()=>O(o.controller)),a=z(r,n);this.worker=a.pipe(v(u=>!!u)),this.registration=this.worker.pipe(w(()=>o.getRegistration()));let W=I(o,"message").pipe(g(u=>u.data)).pipe(v(u=>u&&u.type)).pipe($());W.connect(),this.events=W}}postMessage(o,t){return this.worker.pipe(m(1),K(n=>{n.postMessage(L({action:o},t))})).toPromise().then(()=>{})}postMessageWithOperation(o,t,n){let r=this.waitForOperationCompleted(n),a=this.postMessage(o,t);return Promise.all([a,r]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let t;return typeof o=="string"?t=n=>n.type===o:t=n=>o.includes(n.type),this.events.pipe(v(t))}nextEventOfType(o){return this.eventsOfType(o).pipe(m(1))}waitForOperationCompleted(o){return this.eventsOfType("OPERATION_COMPLETED").pipe(v(t=>t.nonce===o),m(1),g(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Ne=(()=>{class e{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new H;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=f,this.notificationClicks=f,this.subscription=f;return}this.messages=this.sw.eventsOfType("PUSH").pipe(g(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(g(r=>r.data)),this.pushManager=this.sw.registration.pipe(g(r=>r.pushManager));let n=this.pushManager.pipe(w(r=>r.getSubscription()));this.subscription=A(n,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(y));let n={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(r.length));for(let i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return n.applicationServerKey=a,this.pushManager.pipe(w(i=>i.subscribe(n)),m(1)).toPromise().then(i=>(this.subscriptionChanges.next(i),i))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(y));let t=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(m(1),w(t)).toPromise()}decodeBase64(t){return atob(t)}static \u0275fac=function(n){return new(n||e)(F(_))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),je=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=f,this.unrecoverable=f;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(y));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(y));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(n){return new(n||e)(F(_))};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})();var Pe=new Y("");function Ue(e,o,t){return()=>{if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let n=e.get(X),r=e.get(j);n.runOutsideAngular(()=>{let i=navigator.serviceWorker,d=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",d),r.onDestroy(()=>{i.removeEventListener("controllerchange",d)})});let a;if(typeof t.registrationStrategy=="function")a=t.registrationStrategy();else{let[i,...d]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":a=O(null);break;case"registerWithDelay":a=Ee(+d[0]||0);break;case"registerWhenStable":let T=V(e.get(j).whenStable());a=d[0]?A(T,Ee(+d[0])):T;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.runOutsideAngular(()=>a.pipe(m(1)).subscribe(()=>navigator.serviceWorker.register(o,{scope:t.scope}).catch(i=>console.error("Service worker registration failed with:",i))))}}function Ee(e){return O(null).pipe(G(e))}function We(e){return new _(e.enabled!==!1?navigator.serviceWorker:void 0)}var b=class{enabled;scope;registrationStrategy};function xe(e,o={}){return Z([Ne,je,{provide:Pe,useValue:e},{provide:b,useValue:o},{provide:_,useFactory:We,deps:[b]},{provide:te,useFactory:Ue,deps:[Q,Pe,b],multi:!0}])}var Se=(e,o)=>{let n=M(S).getToken();if(n){let r=e.clone({setHeaders:{Authorization:`Bearer ${n}`}});return o(r)}return o(e)};var ke={providers:[_e(Oe),xe("ngsw-worker.js",{enabled:!de(),registrationStrategy:"registerWhenStable:30000"}),ge(me([Se]))]};ue(be,ke).catch(e=>console.error(e));
