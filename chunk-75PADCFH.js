import{a as I,i as c}from"./chunk-DWR4Z56V.js";import{V as r,Y as a,ca as s,q as o,va as n}from"./chunk-62T5DOLL.js";var p={production:!0,apiUrl:"",apiLocalizationUrl:"https://servicodados.ibge.gov.br/api/v1/localidades"};var k=(()=>{class t{constructor(){this.API_URL=`${p.apiUrl}/auth`,this.TOKEN_KEY="access_token",this.router=s(c),this.http=s(I),this.isAuthenticated=n(this.hasValidToken())}login(e,i){return sessionStorage.setItem(this.TOKEN_KEY,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"),this.isAuthenticated.set(!0),o({access_token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",user:{id:1,username:"Marcelo",email:"email@email.com"}})}register(e,i){return this.http.post(`${this.API_URL}/register`,{name:e,email:i}).pipe(r(h=>{this.isAuthenticated.set(!1)}))}forgotPassword(e){return this.http.post(`${this.API_URL}/forgot-password`,{email:e})}logout(){sessionStorage.removeItem(this.TOKEN_KEY),this.isAuthenticated.set(!1),this.router.navigate(["acesso-comunidade","login"])}getToken(){return sessionStorage.getItem(this.TOKEN_KEY)}hasValidToken(){return!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{p as a,k as b};
