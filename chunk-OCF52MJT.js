import{b as d,d as x,e as C,f as b,g as y,i as k,l as S,n as M}from"./chunk-B7K3AB5Y.js";import{a as P}from"./chunk-CJRHIBMB.js";import{a as v}from"./chunk-42LSX6LJ.js";import{i as _,j as h,m as w}from"./chunk-YZFDS22F.js";import{$a as n,Aa as r,Ja as c,Ua as i,X as l,ab as a,bb as g,db as f,kb as s,oa as p,ob as u}from"./chunk-BW4FWTPU.js";var E=()=>["/comunidade","login"],z=(()=>{class m{constructor(){this.authService=l(P),this.router=l(_),this.isLoading=p(!1),this.form=new C({email:new b("",[d.required,d.email])})}getControl(o){return this.form.get(o)}onSubmit(){if(this.form.valid){this.isLoading.set(!0);let{email:o}=this.form.value;this.authService.forgotPassword(o).subscribe({next:()=>{alert("Um link de recupera\xE7\xE3o foi enviado para o seu email."),this.router.navigate(["/login"]),this.isLoading.set(!1)},error:e=>{console.error("Erro ao enviar solicita\xE7\xE3o:",e),alert("N\xE3o foi poss\xEDvel enviar o link de recupera\xE7\xE3o. Tente novamente."),this.isLoading.set(!1)}})}}static{this.\u0275fac=function(e){return new(e||m)}}static{this.\u0275cmp=c({type:m,selectors:[["pgm-forgot-password"]],decls:13,vars:7,consts:[[1,"forgot-password"],[1,"forgot-password__container"],[1,"forgot-password__title"],[1,"forgot-password__message"],[1,"forgot-password__form",3,"ngSubmit","formGroup"],["label","Email","type","email","placeholder","Digite seu email","name","email",3,"control"],["text","Enviar","loadingText","Enviando...","type","submit",3,"loading","disabled","block"],[1,"forgot-password__links",3,"routerLink"],[1,"material-icons"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Recupere sua senha"),a(),n(4,"p",3),s(5," Insira o e-mail associado \xE0 sua conta. Enviaremos um link para redefinir sua senha. "),a(),n(6,"form",4),f("ngSubmit",function(){return t.onSubmit()}),g(7,"pgm-text-input",5)(8,"pgm-button",6),n(9,"a",7)(10,"span",8),s(11,"arrow_back"),a(),s(12," Voltar para o login "),a()()()()),e&2&&(r(6),i("formGroup",t.form),r(),i("control",t.getControl("email")),r(),i("loading",t.isLoading())("disabled",t.form.invalid)("block",!0),r(),i("routerLink",u(6,E)))},dependencies:[M,v,S,y,x,k,w,h],styles:[".forgot-password[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;height:100%;background:linear-gradient(135deg,#465c50,#749483)}.forgot-password__container[_ngcontent-%COMP%]{width:95%;padding:1rem;border-radius:8px;background:#fff;box-shadow:0 2px 8px #0000001a}@media (min-width: 768px){.forgot-password__container[_ngcontent-%COMP%]{padding:2rem}}@media (min-width: 992px){.forgot-password__container[_ngcontent-%COMP%]{padding:3rem;width:40rem}}.forgot-password__title[_ngcontent-%COMP%]{text-align:center;color:#749483}.forgot-password__message[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;font-size:1.25rem;color:#6c757d}.forgot-password__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.forgot-password__links[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.5rem;margin-top:1.5rem}@media (min-width: 992px){.forgot-password__links[_ngcontent-%COMP%]{flex-direction:row;display:flex;justify-content:center;align-items:center}}"],changeDetection:0})}}return m})();export{z as ForgotPasswordComponent};
